<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les Boursicoteurs - MVP</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* ========================================== */
        /* VARIABLES GLOBALES                         */
        /* ========================================== */
        :root {
            --bg-main: #0F172A;
            --bg-section: #1E293B;
            --bg-card: #0F172A;
            --border: #334155;
            --text-primary: #F8FAFC;
            --text-secondary: #94A3B8;
            --text-muted: #64748B;
            --color-positive: #10B981;
            --color-negative: #EF4444;
            --color-neutral: #3B82F6;
        }

        /* ========================================== */
        /* RESET & BASE                               */
        /* ========================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* ========================================== */
        /* HEADER                                     */
        /* ========================================== */
        .header {
            background: var(--bg-main);
            padding: 20px 16px;
            text-align: center;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .header-logo {
            height: 32px;
            filter: invert(1);
        }

        .header-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .back-btn {
            position: absolute;
            left: 16px;
            width: 36px;
            height: 36px;
            background: var(--bg-section);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ========================================== */
        /* PAGE ACCUEIL - RECHERCHE & FILTRES         */
        /* ========================================== */
        .search-section {
            padding: 16px;
        }

        .search-box {
            width: 100%;
            padding: 12px 16px 12px 44px;
            background: var(--bg-section);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text-primary);
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            outline: none;
        }

        .search-box::placeholder {
            color: var(--text-muted);
        }

        .search-wrapper {
            position: relative;
        }

        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
        }

        .filters {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            overflow-x: auto;
            padding-bottom: 4px;
        }

        .filters::-webkit-scrollbar {
            height: 2px;
        }

        .filter-btn {
            padding: 8px 16px;
            background: var(--bg-section);
            border: 1px solid var(--border);
            border-radius: 20px;
            color: var(--text-secondary);
            font-family: 'Poppins', sans-serif;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
        }

        .filter-btn.active {
            background: var(--color-positive);
            color: white;
            border-color: var(--color-positive);
        }

        /* ========================================== */
        /* GRILLE ENTREPRISES (2x2)                   */
        /* ========================================== */
        .companies-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 16px;
        }

        .company-card {
            aspect-ratio: 1;
            background: var(--bg-section);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 16px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            transition: transform 0.2s;
        }

        .company-card:active {
            transform: scale(0.98);
        }

        .company-logo-wrapper {
            position: relative;
            margin-bottom: 12px;
        }

        .company-logo {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 700;
            color: var(--bg-main);
        }

        .company-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
        }

        /* Badge "story" Instagram */
        .story-badge {
            position: absolute;
            inset: -3px;
            border-radius: 50%;
            padding: 3px;
            background: linear-gradient(45deg, var(--badge-color, #10B981), var(--badge-color, #10B981));
        }

        .story-badge-inner {
            width: 100%;
            height: 100%;
            background: var(--bg-section);
            border-radius: 50%;
            padding: 3px;
        }

        .company-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .company-sector {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .company-stats {
            display: flex;
            flex-direction: column;
            gap: 4px;
            width: 100%;
        }

        .company-variation {
            font-size: 13px;
            font-weight: 600;
        }

        .company-variation.positive {
            color: var(--color-positive);
        }

        .company-variation.negative {
            color: var(--color-negative);
        }

        .company-last-news {
            font-size: 10px;
            color: var(--text-muted);
        }

        /* ========================================== */
        /* PAGE ENTREPRISE - HEADER INSTAGRAM          */
        /* ========================================== */
        .company-header {
            padding: 16px;
            display: flex;
            align-items: flex-start;
            gap: 16px;
        }

        .company-header-logo {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        
        .company-header-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .company-header-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
        }

        .company-header-info {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            padding-top: 8px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .info-value {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .info-value.positive {
            color: var(--color-positive);
        }

        .info-value.negative {
            color: var(--color-negative);
        }

        .info-label {
            font-size: 10px;
            color: var(--text-muted);
        }

        /* ========================================== */
        /* GRAPHIQUE                                  */
        /* ========================================== */
        .chart-section {
            background: var(--bg-section);
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
            padding: 24px 16px 16px;
            position: relative;
            margin-bottom: 16px;
        }

        .chart-container {
            height: 200px;
            position: relative;
        }

        .focus-line {
            position: absolute;
            width: 1px;
            background: var(--active-color, #10B981);
            top: 0;
            bottom: 0;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
            border-left: 1px dashed var(--active-color, #10B981);
        }

        .focus-line.active {
            opacity: 0.4;
        }

        /* ========================================== */
        /* CARROUSEL NEWS                             */
        /* ========================================== */
        .news-carousel-wrapper {
            padding: 0 16px 24px;
        }

        .news-carousel {
            display: flex;
            flex-direction: row-reverse;
            gap: 20px;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            padding: 0 calc(50vw - 110px);
            scroll-padding: 0 calc(50vw - 110px);
        }

        .news-carousel::-webkit-scrollbar {
            height: 4px;
        }

        .news-carousel::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 2px;
        }

        .news-card {
            flex: 0 0 220px;
            background: var(--bg-card);
            border: 2px solid var(--card-color, #10B981);
            border-radius: 16px;
            overflow: hidden;
            scroll-snap-align: start;
            transition: all 0.3s;
            opacity: 0.7;
            cursor: pointer;
        }

        .news-card.active {
            opacity: 1;
            border: 2px solid var(--card-color, #10B981);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .news-card.positive { --card-color: #10B981; }
        .news-card.negative { --card-color: #EF4444; }
        .news-card.neutral { --card-color: #3B82F6; }

        .news-image {
            height: 120px;
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .news-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .news-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 32px;
            height: 32px;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .news-content {
            padding: 14px;
        }

        .news-date {
            font-size: 10px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .news-title {
            font-size: 13px;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 8px;
        }

        .news-description {
            font-size: 11px;
            color: var(--text-secondary);
            line-height: 1.4;
            margin-bottom: 10px;
        }

        .news-explanation {
            font-size: 10px;
            color: var(--text-muted);
            padding-top: 10px;
            border-top: 1px solid var(--border);
            font-style: italic;
        }

        /* ========================================== */
        /* BLOCS ANALYSE                              */
        /* ========================================== */
        .analysis-section {
            padding: 0 16px 100px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .analysis-block {
            background: var(--bg-section);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
        }

        .block-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 16px;
            text-align: center;
        }

        .block-content {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .revenue-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .revenue-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .revenue-emoji {
            font-size: 20px;
        }

        .revenue-label {
            flex: 1;
            font-size: 13px;
        }

        .revenue-value {
            font-weight: 600;
            font-size: 14px;
        }

        /* Bulles march√© */
        .market-bubbles {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            padding: 10px 0;
        }

        .bubble {
            background: var(--bg-main);
            border: 1px solid var(--border);
            border-radius: 50%;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-width: 90px;
            min-height: 90px;
        }

        .bubble-logo {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .bubble-name {
            font-size: 11px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .bubble-cap {
            font-size: 10px;
            color: var(--text-muted);
        }

        /* Grille marques */
        .brands-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .brand-item {
            aspect-ratio: 1;
            background: var(--bg-main);
            border: 1px solid var(--border);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            overflow: hidden;
        }

        .brand-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Avis liste */
        .advice-list {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .advice-item {
            display: flex;
            gap: 12px;
        }

        .advice-emoji {
            font-size: 24px;
            flex-shrink: 0;
        }

        .advice-content h4 {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .advice-content p {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* ========================================== */
        /* CTA INVESTIR                               */
        /* ========================================== */
        .cta-invest {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 16px;
            background: linear-gradient(to top, var(--bg-main) 80%, transparent);
            z-index: 50;
        }

        .cta-button {
            width: 100%;
            padding: 16px;
            background: var(--color-positive);
            border: none;
            border-radius: 12px;
            color: white;
            font-family: 'Poppins', sans-serif;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        /* ========================================== */
        /* PAGE PARTENAIRES                           */
        /* ========================================== */
        .partners-section {
            padding: 24px 16px 100px;
        }

        .partners-intro {
            text-align: center;
            margin-bottom: 32px;
        }

        .partners-intro h1 {
            font-size: 24px;
            margin-bottom: 12px;
        }

        .partners-intro p {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .partner-card {
            background: var(--bg-section);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 16px;
        }

        .partner-logo {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 12px;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }
        
        .partner-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 8px;
        }

        .partner-name {
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 8px;
        }

        .partner-tagline {
            font-size: 13px;
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 16px;
        }

        .partner-features {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
        }

        .partner-feature {
            font-size: 12px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .partner-button {
            width: 100%;
            padding: 14px;
            background: var(--color-positive);
            border: 2px solid var(--color-positive);
            border-radius: 10px;
            color: white;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }

        /* ========================================== */
        /* PAGES VISIBILITY                           */
        /* ========================================== */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- ================================================ -->
    <!-- PAGE 1: ACCUEIL (Liste CAC 40)                   -->
    <!-- ================================================ -->
    <div id="page-home" class="page active">
        <header class="header">
            <div class="header-content">
                <img src="data:image/png;base64,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" alt="Les Boursicoteurs" style="height: 18px; margin-right: 10px;">
                <span class="header-title">LES BOURSICOTEURS</span>
            </div>
        </header>

        <div class="search-section">
            <div class="search-wrapper">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-box" placeholder="Rechercher une entreprise" id="searchInput">
            </div>
            
            <div class="filters">
                <button class="filter-btn active" data-filter="all">Tous</button>
                <button class="filter-btn" data-filter="cac40">CAC 40</button>
                <button class="filter-btn" data-filter="Luxe">Luxe üíé</button>
                <button class="filter-btn" data-filter="Tech">Tech üíª</button>
                <button class="filter-btn" data-filter="Energie">√ânergie ‚ö°</button>
                <button class="filter-btn" data-filter="Finance">Finance üè¶</button>
                <button class="filter-btn" data-filter="Aero">A√©ronautique ‚úàÔ∏è</button>
            </div>
        </div>

        <div class="companies-grid" id="companiesGrid">
            <!-- G√©n√©r√© par JavaScript -->
        </div>
    </div>

    <!-- ================================================ -->
    <!-- PAGE 2: FICHE ENTREPRISE                         -->
    <!-- ================================================ -->
    <div id="page-company" class="page">
        <header class="header">
            <button class="back-btn" onclick="navigateTo('home')">‚Üê</button>
            <div class="header-content">
                <img src="data:image/png;base64,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" alt="Les Boursicoteurs" style="height: 24px;">
            </div>
        </header>

        <div class="company-header" id="companyHeaderContent">
            <!-- G√©n√©r√© par JavaScript -->
        </div>

        <div class="chart-section">
            <div class="focus-line" id="focusLine"></div>
            <div class="chart-container">
                <canvas id="companyChart"></canvas>
            </div>
        </div>

        <div class="news-carousel-wrapper">
            <div class="news-carousel" id="newsCarousel">
                <!-- G√©n√©r√© par JavaScript -->
            </div>
        </div>

        <div class="analysis-section" id="analysisContent">
            <!-- G√©n√©r√© par JavaScript -->
        </div>

        <div class="cta-invest">
            <button class="cta-button" onclick="navigateTo('partners')">
                üí∞ Investir dans <span id="ctaCompanyName"></span>
            </button>
        </div>
    </div>

    <!-- ================================================ -->
    <!-- PAGE 3: PARTENAIRES                              -->
    <!-- ================================================ -->
    <div id="page-partners" class="page">
        <header class="header">
            <button class="back-btn" onclick="history.back()">‚Üê</button>
            <div class="header-content">
                <img src="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAFAAUADASIAAhEBAxEB/8QAGgABAQEBAQEBAAAAAAAAAAAAAAkIBgMEB//EADgQAQABAwMCBAMECAcBAAAAAAABAgMEBQYRByEIEjFhE0GBFCJRcQkjJENScoKRM0JTYmOSscH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AxkAAAAAAAAACzAAAAAAAAAAAAAAAAAAAAPHJxMXKjjJxrN+OOOLluKv/AFyuvdLum+u0zGrbE25lVT+8q061Fz6VxEVR/d2ADPe8vCH0l1u3XVpFjVNuZE96asPKm7b596Lvm7e0TSz/ANR/B31D0Ci5lbWzMHdWLTPa3b/Z8nj8fJXPln6VzPsoIAjnrOlanoup3tM1jT8rT86xV5buPk2qrdyifwmmqImHxq2dR+nOy+oemfYd3aBi6jFNMxavzHkv2f5LlPFVPfvxE8T84liHr/4VtzbGt5GvbPrvbj2/RE13LdNH7ZiU8/5qI/xKY7fep7+vNMRHIM4gAAAAAAAAAAAAAswAAAAAAAAAAAAAAAAAAAAAAAAADK/io8MWDuTHzN5dPMOjE16mPiZWl2qYps5sR61W4jtTd9vSr2meZwnk2L+Lk3cbJs3LN+1XNFy3cpmmqiqJ4mmYnvExPbhZRlfxpdArW5NNyuomzsKmnXcWibmqYtqOPt1qmO9ymP8AVpiO/wDFHPziIkMHgAAAAAAAAAAAswAAAAAAAAAAAAAAAAAAAAAAAAAAACefjf6PxsXekbv0PG8m3tdvVTVRRH3cXLnmqqj2pq4mqn+qO0RDOat3VnZWm9Q+n2rbS1OmmLebYmLN2Y5mxejvbuR701RE+8cx6TKT2uaZm6LrWdo2o2Zs5uDkXMbItz60XKKppqj6TEg+IAAAAAAAAAFmAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+v0gmyadv8AVvG3RiWYoxNxYvxLnFPEfabXFFz270zaq/GZmpQVnzx97ao1voNe1amjm/oWdZy6Zj18ldXwa4/L9ZTVP8oJ1AAAAAAAAAAswAAAAAAAAAAAAAAAAAAAAAAAAAAAA4/rbpFOvdH936TVb89WRo2VFuP+SLVVVE/SqKZdg8NQx6cvAyMWqImm9aqtzE+nExMf/Qe4AAAAAAAAAIzgAAAAAAAAAAAAAAAAAAAswAAAAAAAA8c+/GLg38meOLVqquefaOXs4/rZq0aF0f3fq01cVY+jZVVvvx9+bVUUR/2mAdgAAAAAAAAACM4AAAAAAAAAAAAAAAAAAALMAAAAAAAAM9+Pvc1GidB7ukU3OMjXc6zi00xPf4dE/Frn8v1dNM/zQ0In3+kF3rTr/VrF2ti3ZqxduYvw7kfL7Td4rr/tTFqPziQUEAAAAAAAAABGcAAAAAAAAAAAAAAAAAAAFmAAAAAAAAcn1e3tg9POnOs7uzvLVGDYmbFqqePjXqvu27f1qmInj0jmfkk/rep52tazm6xqeRVkZ2dfryMi7V613K6pqqn6zMtBeOHq/RvnedGz9ByYubf0G7VTcuUTPly8v0rq96aO9NPv555mJhnEFmAAAAAAAAAARnAAAAAAAAAAAAAAAAAAABZgAAAAABlfxo9frO29Myunmzc+mrXsmmbWqZVqeYwrVUTE24n5Xaon+mOfSZjh4p/E9g7asZezuneZbzNdqibeVqdqYqs4P40259K7vv6U+88xGE8m/fysm7k5N65fv3a5ruXLlU1VV1TPM1TM95mZ78g8wAWYAAAAAAAAABGcAAAAAAAAAAAAAAAAAAAFmB45WZiYlM1ZWVYsUxHMzcuRTHH1crr/AFS6b6DRXVq2+9uY1VHrbnUbVVz6URM1T9IB2Az5vLxedJNEorp0nI1TcV+O0U4eJVbt8+9d3y9veIqZ96j+MPqJuCi7ibXw8Ha2JXEx8S1+0ZXE8/vK4imO38NETE/MG2+o/UPZ3TzR51PduuY2n25iZtWZnzXr8/hbtx96qfyjiPnMR3Yd8QHin3PvqL+h7QjI25t6vmmuqK+MzKp/31Uz9ymf4aZ/OqYnh+Aa1quqa1qN3UdZ1HM1HNuzzcyMq9VduVz71VTMy+IAAAAFmAAAAAAAAAAAAAAAAAAAARnAAAAAAAAABZLJxMXKjjJxrN+OOOLluKv/AFyuvdLum+u0zGrbE25lVT+8q061Fz6VxEVR/d2ADPe8vCH0l1u3XVpFjVNuZE96asPKm7b596Lvm7e0TSz/ANR/B31D0Ci5lbWzMHdWLTPa3b/Z8nj8fJXPln6VzPsoIAjnrOlanoup3tM1jT8rT86xV5buPk2qrdyifwmmqImHxq2dR+nOy+oemfYd3aBi6jFNMxavzHkv2f5LlPFVPfvxE8T84liHr/4VtzbGt5GvbPrvbj2/RE13LdNH7ZiU8/5qI/xKY7fep7+vNMRHIM4gAAAswAAAAAAAAAAAAAAAAAAACM4AAAAAAAAALMAAAAAAyv4qPDFg7kx8zeXTzDoxNepj4mVpdqmKbObEetVuI7U3fb0q9pnmcJ5Ni/i5N3GybNyzftVzRct3KZpqoqieJpmJ7xMT24WUZX8aXQK1uTTcrqJs7Cpp13Fom5qmLajj7dapjvcpj/VpiO/8Uc/OIiQweACzAAAAAAAAAAAAAAAAAAAAIzgAAAAAAAAAswAAAAAAACefjf6PxsXekbv0PG8m3tdvVTVRRH3cXLnmqqj2pq4mqn+qO0RDOat3VnZWm9Q+n2rbS1OmmLebYmLN2Y5mxejvbuR701RE+8cx6TKT2uaZm6LrWdo2o2Zs5uDkXMbItz60XKKppqj6TEgsWAAAAAAAAAAAAAAAAAAACM4AAAAAAAAALMAAAAAAAAJ9fpBNk07f6t426MSzFGJuLF+Jc4p4j7Ta4oue3embVX4zM1KCs+ePvbVGt9Br2rU0c39CzrOXTMevkrq+DXH5frKap/lBoMAAAAAAAAAAAAAAAAAAAEZwAAAAAAAAAWYAAAAAAAAcf1t0inXuj+79Jqt+erI0bKi3H/JFqqqifpVFMuweGoY9OXgZGLVETTetVW5ifTiYmP8A6CNwAAAAAAAAAAAAAAAAAAALMAAAAAAAAAAAAAAAAAAPHPvxi4N/Jnji1aqrnn2jl7OP62atGhdH936tNXFWPo2VVb78ffm1VFEf9pgElwAAAAAAAAAAAAAAAAAAAWYAAAAAAAAAAAAAAAAAAZ78fe5qNE6D3dIpucZGu51nFppie/w6J+LXP5fq6aZ/mhoRPv8ASC71p1/q1i7Wxbs1Yu3MX4dyPl9pu8V1/wBqYtR+cSDNYAAAAAAAAAAAAAAAAAAALMAAAAAAAAAAAAAAAAAA5Pq9vbB6edOdZ3dneWqMGxM2LVU8fGvVfdt2/rVMRPHpHM/JJ/W9Tzta1nN1jU8irIzs6/XkZF2r1ruV1TVVP1mZaC8cPV+jfO86Nn6Dkxc2/oN2qm5comfLl5fpXV700d6affzzzMTDOIAAAAAAAAAAAAAAAAAAAALMAAAAAAAAAAAAAAAAMr+NHr9Z23pmV082bn01a9k0za1TKtTzGFaqiYm3E/K7VE/0xz6TMcPFP4nsHbVjL2d07zLeZrtUTbytTtTFVnB/Gm3PpXd9/Sn3nmIwnk37+Vk3cnJvXL9+7XNdy5cqmqquqZ5mqZnvMzPfkHmAAAAAAAAAAAAAAAAAAAAACzAAAAAAAAAAA8crMxMSmasrKsWKYjmZuXIpjj6uV1/ql030GiurVt97cxqqPW3Oo2qrn0oiZqn6QDsBnzeXi86SaJRXTpORqm4r8dopw8Sq3b5967vl7e8RUz71H8YfUTcFF3E2vh4O1sSuJj4lr9oyuJ5/eVxFMdv4aImJ+YNt9R+oezunmjzqe7dcxtPtzEzaszPmvX5/C3bj71U/lHEfOYjuw74gPFPuffUX9D2hGRtzb1fNNdUV8ZmVT/vqpn7lM/w0z+dUxPD8A1rVdU1rUbuo6zqOZqObdnm5kZV6q7crn3qqmZl8QAAAAP/Z" alt="Les Boursicoteurs" style="height: 24px;">
            </div>
        </header>

        <div class="partners-section">
            <div class="partners-intro">
                <h1>Nos partenaires</h1>
                <p>Pour investir dans les entreprises pr√©sent√©es, nous recommandons ces plateformes s√©curis√©es et faciles d'utilisation.</p>
            </div>

            <div class="partner-card">
                <div class="partner-logo"><img src="logos/trade-republic.png" alt="Trade Republic"></div>
                <h3 class="partner-name">Trade Republic</h3>
                <p class="partner-tagline">Investir √† partir de 1‚Ç¨</p>
                <div class="partner-features">
                    <div class="partner-feature">‚úì Actions fractionn√©es</div>
                    <div class="partner-feature">‚úì 0‚Ç¨ de frais de courtage</div>
                    <div class="partner-feature">‚úì Interface simple</div>
                </div>
                <button class="partner-button">Ouvrir un compte</button>
            </div>

            <div class="partner-card">
                <div class="partner-logo"><img src="logos/revolut.png" alt="Revolut"></div>
                <h3 class="partner-name">Revolut</h3>
                <p class="partner-tagline">Banque + Bourse en une app</p>
                <div class="partner-features">
                    <div class="partner-feature">‚úì 1% de cashback</div>
                    <div class="partner-feature">‚úì Cryptos inclus</div>
                    <div class="partner-feature">‚úì Carte gratuite</div>
                </div>
                <button class="partner-button">Ouvrir un compte</button>
            </div>

            <div class="partner-card">
                <div class="partner-logo"><img src="logos/degiro.png" alt="Degiro"></div>
                <h3 class="partner-name">Degiro</h3>
                <p class="partner-tagline">Le courtier historique</p>
                <div class="partner-features">
                    <div class="partner-feature">‚úì Frais ultra-bas</div>
                    <div class="partner-feature">‚úì 50+ bourses mondiales</div>
                    <div class="partner-feature">‚úì Plateforme avanc√©e</div>
                </div>
                <button class="partner-button">Ouvrir un compte</button>
            </div>
        </div>
    </div>

    <script>
        // ================================================
        // DONN√âES (Modifiables facilement)
        // ================================================
        const companiesData = [
            {
                id: 'airbus',
                name: 'Airbus',
                ticker: 'AIR.PA',
                logoFile: 'airbus.png',
                logoEmoji: '‚úàÔ∏è',
                logo: '‚úàÔ∏è',
                sector: 'A√©ronautique ‚úàÔ∏è',
                sectorFilter: 'Aero',
                founded: 1970,
                variation1y: 8.2,
                variation24h: 0.83,
                lastNewsDate: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000), // Il y a 3 jours
                news: [
                    {
                        date: '5 Feb 2025',
                        title: 'Commande historique de 200 avions',
                        description: 'Qatar Airways signe un contrat de 18 milliards pour 200 Airbus A320neo.',
                        explanation: 'Les commandes massives rassurent les investisseurs sur la sant√© du secteur.',
                        impact: 'positive'
                    },
                    {
                        date: '28 Jan 2025',
                        title: 'M√©ga-commande indienne',
                        description: 'IndiGo commande 500 A320neo suppl√©mentaires pour 50 milliards de dollars.',
                        explanation: 'Airbus domine le march√© des court-courriers en Asie.',
                        impact: 'positive'
                    },
                    {
                        date: '20 Dec 2024',
                        title: 'Nouveau contrat de d√©fense',
                        description: 'Arm√©e fran√ßaise commande 28 avions de transport militaire A400M.',
                        explanation: 'Diversification vers la d√©fense, secteur √† forte marge.',
                        impact: 'positive'
                    },
                    {
                        date: '18 Nov 2024',
                        title: 'Innovation hydrog√®ne avanc√©e',
                        description: 'Premier vol test r√©ussi A380 propuls√© √† 100% hydrog√®ne.',
                        explanation: 'Avance technologique majeure pour aviation verte.',
                        impact: 'positive'
                    },
                    {
                        date: '5 Nov 2024',
                        title: 'Retards de livraison annonc√©s',
                        description: 'Airbus annonce un retard de 3 mois sur les livraisons.',
                        explanation: 'Les retards signifient moins de revenus √† court terme.',
                        impact: 'negative'
                    },
                    {
                        date: '15 Oct 2024',
                        title: 'Sanctions douani√®res US-EU',
                        description: 'Nouvelles taxes de 10% sur les avions europ√©ens aux √âtats-Unis.',
                        explanation: 'Impact n√©gatif sur les ventes am√©ricaines, guerre commerciale.',
                        impact: 'negative'
                    },
                    {
                        date: '8 Sep 2024',
                        title: 'Partenariat avec la Chine',
                        description: 'Airbus ouvre un nouveau centre de R&D √† Shanghai.',
                        explanation: 'Acc√®s au march√© chinois en pleine croissance.',
                        impact: 'neutral'
                    },
                    {
                        date: '1 Aug 2024',
                        title: 'Record de livraisons trimestrielles',
                        description: 'Airbus livre 200 avions au T2, un record absolu.',
                        explanation: 'D√©passe Boeing pour la 4√®me ann√©e cons√©cutive.',
                        impact: 'positive'
                    },
                    {
                        date: '12 Jun 2024',
                        title: 'Gr√®ve dans les usines allemandes',
                        description: 'Les employ√©s Airbus Hambourg en gr√®ve pour des hausses de salaire.',
                        explanation: 'Ralentissement de la production pendant 2 semaines.',
                        impact: 'negative'
                    },
                    {
                        date: '25 Apr 2024',
                        title: 'Hausse des co√ªts de production',
                        description: 'Les co√ªts de fabrication augmentent de 15% √† cause de inflation.',
                        explanation: 'Impact sur les marges mais compens√© par hausse des prix de vente.',
                        impact: 'neutral'
                    }
                ]
            },
            {
                id: 'lvmh',
                name: 'LVMH',
                ticker: 'MC.PA',
                logoFile: 'lvmh.png',
                logoEmoji: 'üíé',
                logo: 'üíé',
                sector: 'Luxe üíé',
                sectorFilter: 'Luxe',
                founded: 1987,
                variation1y: 12.5,
                variation24h: 1.2,
                lastNewsDate: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000),
                news: [
                    {
                        date: '20 Oct 2024',
                        title: 'Ventes record en Asie',
                        description: 'LVMH annonce une croissance de 18% des ventes en Asie au T3.',
                        explanation: 'Le luxe d√©pend beaucoup de l\'Asie. Une forte croissance l√†-bas signifie que la demande est solide.',
                        impact: 'positive',
                        chartIndex: 9
                    }
                ]
            },
            {
                id: 'total',
                name: 'TotalEnergies',
                ticker: 'TTE.PA',
                logoFile: 'totalenergies.png',
                logoEmoji: '‚ö°',
                logo: '‚ö°',
                sector: '√ânergie ‚ö°',
                sectorFilter: 'Energie',
                founded: 1924,
                variation1y: -3.2,
                variation24h: -0.5,
                lastNewsDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
                news: [
                    {
                        date: '10 Nov 2024',
                        title: 'Investissement massif dans le solaire',
                        description: 'Total investit 5 milliards dans l\'√©nergie solaire en Europe.',
                        explanation: 'La transition √©nerg√©tique co√ªte cher √† court terme mais pr√©pare l\'avenir. Les investisseurs sont partag√©s.',
                        impact: 'neutral',
                        chartIndex: 10
                    }
                ]
            },
            {
                id: 'bnp',
                name: 'BNP Paribas',
                ticker: 'BNP.PA',
                logoFile: 'bnp.png',
                logoEmoji: 'üè¶',
                logo: 'üè¶',
                sector: 'Finance üè¶',
                sectorFilter: 'Finance',
                founded: 2000,
                variation1y: 5.8,
                variation24h: 0.4,
                lastNewsDate: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000),
                news: []
            },
            {
                id: 'loreal',
                name: 'L\'Or√©al',
                ticker: 'OR.PA',
                logoFile: 'loreal.png',
                logoEmoji: 'üíÑ',
                logo: 'üíÑ',
                sector: 'Luxe üíé',
                sectorFilter: 'Luxe',
                founded: 1909,
                variation1y: 15.3,
                variation24h: 2.1,
                lastNewsDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
                news: []
            },
            {
                id: 'sanofi',
                name: 'Sanofi',
                ticker: 'SAN.PA',
                logoFile: 'sanofi.png',
                logoEmoji: 'üíä',
                logo: 'üíä',
                sector: 'Pharma üíä',
                sectorFilter: 'Pharma',
                founded: 1973,
                variation1y: 3.1,
                variation24h: 0.2,
                lastNewsDate: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000),
                news: []
            },
            {
                id: 'orange',
                name: 'Orange',
                ticker: 'ORA.PA',
                logoFile: 'orange.png',
                logoEmoji: 'üì±',
                logo: 'üì±',
                sector: 'Tech üíª',
                sectorFilter: 'Tech',
                founded: 1988,
                variation1y: -1.2,
                variation24h: -0.3,
                lastNewsDate: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000),
                news: []
            },
            {
                id: 'danone',
                name: 'Danone',
                ticker: 'BN.PA',
                logoFile: 'danone.png',
                logoEmoji: 'ü•õ',
                logo: 'ü•õ',
                sector: 'Agroalimentaire üçΩÔ∏è',
                sectorFilter: 'Agro',
                founded: 1919,
                variation1y: 2.5,
                variation24h: 0.1,
                lastNewsDate: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000),
                news: []
            },
            {
                id: 'carrefour',
                name: 'Carrefour',
                ticker: 'CA.PA',
                logoFile: 'carrefour.png',
                logoEmoji: 'üõí',
                logo: 'üõí',
                sector: 'Distribution üõçÔ∏è',
                sectorFilter: 'Distribution',
                founded: 1958,
                variation1y: -2.8,
                variation24h: -0.6,
                lastNewsDate: new Date(Date.now() - 18 * 24 * 60 * 60 * 1000),
                news: []
            },
            {
                id: 'renault',
                name: 'Renault',
                ticker: 'RNO.PA',
                logoFile: 'renault.png',
                logoEmoji: 'üöó',
                logo: 'üöó',
                sector: 'Automobile üöó',
                sectorFilter: 'Auto',
                founded: 1899,
                variation1y: 18.2,
                variation24h: 1.8,
                lastNewsDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
                news: []
            },
            {
                id: 'pernod',
                name: 'Pernod Ricard',
                ticker: 'RI.PA',
                logoFile: 'pernod.png',
                logoEmoji: 'ü•É',
                logo: 'üç∑',
                sector: 'Spiritueux ü•É',
                sectorFilter: 'Luxe',
                founded: 1975,
                variation1y: 6.4,
                variation24h: 0.7,
                lastNewsDate: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000),
                news: []
            },
            {
                id: 'stmicro',
                name: 'STMicroelectronics',
                ticker: 'STM.PA',
                logoFile: 'stmicro.png',
                logoEmoji: 'üíæ',
                logo: 'üîå',
                sector: 'Tech üíª',
                sectorFilter: 'Tech',
                founded: 1987,
                variation1y: 22.1,
                variation24h: 3.2,
                lastNewsDate: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000),
                news: []
            }
        ];

        // ================================================
        // √âTAT DE L'APPLICATION
        // ================================================
        let currentCompany = null;
        let activeNewsIndex = 0;
        let companyChart = null;

        // ================================================
        // NAVIGATION
        // ================================================
        function navigateTo(page, companyId = null) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(`page-${page}`).classList.add('active');
            
            if (page === 'company' && companyId) {
                loadCompanyPage(companyId);
            }
            
            window.location.hash = page === 'home' ? '' : `#${page}`;
            window.scrollTo(0, 0);
        }

        // ================================================
        // PAGE ACCUEIL - Rendu des cartes
        // ================================================
        function renderCompanies(filter = 'all', searchTerm = '') {
            const grid = document.getElementById('companiesGrid');
            let filtered = companiesData;

            if (filter !== 'all') {
                filtered = filtered.filter(c => c.sectorFilter === filter || filter === 'cac40');
            }

            if (searchTerm) {
                filtered = filtered.filter(c => 
                    c.name.toLowerCase().includes(searchTerm.toLowerCase())
                );
            }

            grid.innerHTML = filtered.map(company => {
                const hasRecentNews = false;
                const variationClass = company.variation1y >= 0 ? 'positive' : 'negative';
                const lastNewsText = company.news.length > 0 ? 
                    `Derni√®re actu: ${company.news[0].date}` : 
                    'Aucune actualit√© r√©cente';
                
                // Construire le HTML du logo AVANT le template
                let logoHTML = '';
                if (company.logoFile) {
                    logoHTML = '<img src="logos/' + company.logoFile + '" alt="' + company.name + '">';
                } else {
                    logoHTML = company.logoEmoji || company.logo;
                }

                return `
                    <div class="company-card" onclick="navigateTo('company', '${company.id}')">
                        <div class="company-logo-wrapper">
                            <div class="company-logo">
                                ${logoHTML}
                            </div>
                        </div>
                        <div class="company-name">${company.name}</div>
                        <div class="company-sector">${company.sector}</div>
                        <div class="company-stats">
                            <div class="company-variation ${variationClass}">
                                ${company.variation1y >= 0 ? '+' : ''}${company.variation1y}% (1 an)
                            </div>
                            <div class="company-last-news">${lastNewsText}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ================================================
        // PAGE ENTREPRISE - Chargement
        // ================================================
        function loadCompanyPage(companyId) {
            currentCompany = companiesData.find(c => c.id === companyId);
            if (!currentCompany) return;

            // Header
            const headerContent = document.getElementById('companyHeaderContent');
            const variationClass = currentCompany.variation24h >= 0 ? 'positive' : 'negative';
            
            // Construire le HTML du logo AVANT
            let headerLogoHTML = '';
            if (currentCompany.logoFile) {
                headerLogoHTML = '<img src="logos/' + currentCompany.logoFile + '" alt="' + currentCompany.name + '">';
            } else {
                headerLogoHTML = currentCompany.logoEmoji || currentCompany.logo;
            }
            
            headerContent.innerHTML = `
                <div class="company-header-logo">
                    ${headerLogoHTML}
                </div>
                <div class="company-header-info">
                    <div class="info-item">
                        <div class="info-value">${currentCompany.founded}</div>
                        <div class="info-label">Cr√©ation</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value ${variationClass}">
                            ${currentCompany.variation24h >= 0 ? '+' : ''}${currentCompany.variation24h}%
                        </div>
                        <div class="info-label">Variation</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value" style="color: #10B981">${(Math.random() * 3 + 7).toFixed(1)}/10</div>
                        <div class="info-label">Score IA</div>
                    </div>
                </div>
            `;

            // CTA
            document.getElementById('ctaCompanyName').textContent = currentCompany.name;

            // Graphique
            renderChart();

            // News
            renderNews();

            // Blocs analyse
            renderAnalysis();
        }

        // ================================================
        // GRAPHIQUE
        // ================================================
        function renderChart() {
            const ctx = document.getElementById('companyChart').getContext('2d');
            
            // Courbe avec 365 points (1 par jour)
            const totalDays = 365;
            const data = [];
            const labels = [];
            
            for (let day = 0; day < totalDays; day++) {
                const value = 100 + Math.sin(day / 30) * 8 + (day / 30) * 1.2;
                data.push(value);
                labels.push('');
            }
            
            // Labels des mois
            const months = ['F√©v', 'Mar', 'Avr', 'Mai', 'Jun', 'Jul', 'Ao√ª', 'Sep', 'Oct', 'Nov', 'D√©c', 'Jan', 'F√©v'];
            months.forEach((month, idx) => {
                const dayIndex = Math.floor(idx * 30.4);
                if (dayIndex < totalDays) labels[dayIndex] = month;
            });
            
            const pointColors = new Array(totalDays).fill('transparent');
            const pointRadii = new Array(totalDays).fill(0);
            
            // Trier les news chronologiquement (plus r√©cent en premier)
            const sortedNews = [...currentCompany.news].sort((a, b) => {
                const parseDate = (dateStr) => {
                    const parts = dateStr.split(' ');
                    const day = parseInt(parts[0]);
                    const monthMap = {'Jan':0,'F√©v':1,'Feb':1,'Mar':2,'Avr':3,'Apr':3,'Mai':4,'May':4,'Jun':5,'Jul':6,'Ao√ª':7,'Aug':7,'Sep':8,'Oct':9,'Nov':10,'Dec':11,'D√©c':11};
                    const year = parseInt(parts[2]);
                    return year * 1000 + (monthMap[parts[1]] || 0) * 30 + day;
                };
                return parseDate(b.date) - parseDate(a.date);
            });
            
            currentCompany.newsSorted = sortedNews;
            const newsPositions = {};
            
            sortedNews.forEach((news, newsIdx) => {
                const parts = news.date.split(' ');
                const day = parseInt(parts[0]);
                const monthMap = {'Jan':0,'F√©v':1,'Feb':1,'Mar':2,'Avr':3,'Apr':3,'Mai':4,'May':4,'Jun':5,'Jul':6,'Ao√ª':7,'Aug':7,'Sep':8,'Oct':9,'Nov':10,'Dec':11,'D√©c':11};
                const year = parseInt(parts[2]);
                const monthIdx = monthMap[parts[1]] || 0;
                
                // Calcul PR√âCIS du jour de l'ann√©e (p√©riode = F√©v 2024 √† F√©v 2025)
                // Jour 0 = 1er F√©v 2024, Jour 364 = 31 Jan 2025
                let dayOfYear;
                const daysInMonth = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; // 2024 est bissextile
                
                if (year === 2025) {
                    // Jan-F√©v 2025 = fin de p√©riode
                    if (monthIdx === 0) { // Janvier 2025
                        dayOfYear = 334 + day; // 11 mois complets + jour
                    } else if (monthIdx === 1) { // F√©vrier 2025
                        dayOfYear = 365 + day; // Au-del√†, mais on va limiter
                    }
                } else if (year === 2024) {
                    // F√©v 2024 √† D√©c 2024
                    let daysSinceStart = 0;
                    for (let m = 1; m < monthIdx; m++) { // Depuis F√©vrier (idx 1)
                        daysSinceStart += daysInMonth[m];
                    }
                    dayOfYear = daysSinceStart + day - 1; // -1 car on commence √† 0
                }
                
                dayOfYear = Math.max(0, Math.min(dayOfYear, totalDays - 1));
                
                const color = news.impact === 'positive' ? '#10B981' : 
                             news.impact === 'negative' ? '#EF4444' : '#3B82F6';
                pointColors[dayOfYear] = color;
                pointRadii[dayOfYear] = 5;
                newsPositions[newsIdx] = dayOfYear;
            });

            if (companyChart) companyChart.destroy();

            companyChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        borderColor: '#F8FAFC',
                        borderWidth: 2,
                        fill: false,
                        tension: 0.4,
                        pointRadius: pointRadii,
                        pointBackgroundColor: pointColors,
                        pointBorderColor: 'transparent',
                        pointHoverRadius: 12,
                        pointHoverBorderWidth: 4,
                        pointHoverBorderColor: 'rgba(255,255,255,0.3)',
                        pointHoverBackgroundColor: pointColors
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: { color: '#64748B', font: { size: 10 }, maxRotation: 0, autoSkip: false },
                            border: { display: false }
                        },
                        y: { 
                            display: true,
                            position: 'right',
                            grid: { display: true, color: 'rgba(100, 116, 139, 0.1)', lineWidth: 1 },
                            ticks: { color: '#64748B', font: { size: 10 }, callback: function(value) { return Math.round(value); } },
                            border: { display: false }
                        }
                    }
                }
            });
            
            companyChart.newsPositions = newsPositions;
        }

        // ================================================
        // NEWS CARROUSEL
        // ================================================
        function renderNews() {
            const carousel = document.getElementById('newsCarousel');
            
            if (!currentCompany.news || currentCompany.news.length === 0) {
                carousel.innerHTML = '<div style="padding: 40px; text-align: center; color: #64748B;">Aucune actualit√© disponible</div>';
                return;
            }

            carousel.innerHTML = currentCompany.news.map((news, index) => `
                <div class="news-card ${news.impact}" data-index="${index}">
                    <div class="news-image">
                        <div class="news-badge">
                            ${news.impact === 'positive' ? 'üöÄ' : news.impact === 'negative' ? '‚ö†Ô∏è' : 'üìä'}
                        </div>
                    </div>
                    <div class="news-content">
                        <div class="news-date">${news.date}</div>
                        <div class="news-title">${news.title}</div>
                        <div class="news-description">${news.description}</div>
                        <div class="news-explanation">üí° <strong>Pourquoi ?</strong> ${news.explanation}</div>
                    </div>
                </div>
            `).join('');

            setupCarouselScroll();
            updateActiveNews(0);
            // Rendre les news cards cliquables
            carousel.querySelectorAll('.news-card').forEach((card, index) => {
                card.addEventListener('click', () => {
                    updateActiveNews(index);
                });
            });

        }

        function setupCarouselScroll() {
            const carousel = document.getElementById('newsCarousel');
            let scrollTimeout;

            carousel.addEventListener('scroll', () => {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    const scrollLeft = carousel.scrollLeft;
                    const cardWidth = 240; // 220px + 20px gap
                    const newIndex = Math.round(scrollLeft / cardWidth);
                    
                    if (newIndex !== activeNewsIndex && newIndex < (currentCompany.newsSorted || currentCompany.news).length) {
                        updateActiveNews(newIndex);
                    }
                }, 100);
            });
        }

        function updateActiveNews(index) {
            activeNewsIndex = index;
            const news = currentCompany.news[index];
            if (!news) return;

            const carousel = document.getElementById('newsCarousel');
            const cards = carousel.querySelectorAll('.news-card');
            const targetCard = cards[index];
            
            if (targetCard) {
                targetCard.scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest',
                    inline: 'center'
                });
            }

            cards.forEach((card, i) => {
                card.classList.toggle('active', i === index);
            });

            // Trouver le point sur la courbe pour cette news
            if (companyChart && companyChart.newsPositions) {
                const pointIdx = companyChart.newsPositions[index];
                
                if (pointIdx !== undefined) {
                    // Ligne verticale
                    const focusLine = document.getElementById('focusLine');
                    if (focusLine) {
                        const color = news.impact === 'positive' ? '#10B981' : 
                                     news.impact === 'negative' ? '#EF4444' : '#3B82F6';
                        
                        focusLine.style.setProperty('--active-color', color);
                        focusLine.classList.add('active');
                        
                        // Obtenir la position X exacte du point
                        const xScale = companyChart.scales.x;
                        const pixelX = xScale.getPixelForValue(pointIdx);
                        
                        // Ajouter le padding de .chart-section (16px √† gauche)
                        const chartSectionPadding = 16;
                        focusLine.style.left = `${pixelX + chartSectionPadding}px`;
                    }
                    
                    // Agrandir le point s√©lectionn√©, garder les autres √† 5px ou 0
                    companyChart.data.datasets[0].pointRadius = companyChart.data.datasets[0].pointRadius.map((r, i) => {
                        if (i === pointIdx) return 12; // Point s√©lectionn√©
                        return r > 0 ? 5 : 0; // Autres news = 5px, rien = 0
                    });
                    companyChart.update('none');
                }
            }
        }

        // ================================================
        // BLOCS ANALYSE
        // ================================================
        function renderAnalysis() {
            // Calculer les tailles de bulles proportionnellement
            const marketData = [
                { name: 'Airbus', cap: 120, flag: 'üá™üá∫' },
                { name: 'Boeing', cap: 98, flag: 'üá∫üá∏' },
                { name: 'Embraer', cap: 15, flag: 'üáßüá∑' }
            ];
            
            const maxCap = Math.max(...marketData.map(c => c.cap));
            const minCap = Math.min(...marketData.map(c => c.cap));
            
            const MIN_SIZE = 40;
            const MAX_SIZE = 120;
            
            const bubblesHTML = marketData.map(company => {
                // √âchelle logarithmique pour mieux voir les diff√©rences
                const logMax = Math.log(maxCap);
                const logMin = Math.log(minCap);
                const logCurrent = Math.log(company.cap);
                const ratio = (logCurrent - logMin) / (logMax - logMin);
                const size = Math.round(MIN_SIZE + (MAX_SIZE - MIN_SIZE) * ratio);
                
                // Adapter la taille du texte
                const fontSize = size > 80 ? 24 : size > 50 ? 18 : 14;
                const nameSize = size > 80 ? 11 : size > 50 ? 9 : 8;
                const capSize = size > 80 ? 10 : size > 50 ? 8 : 7;
                
                return `
                    <div class="bubble" style="width: ${size}px; height: ${size}px;">
                        <div class="bubble-logo" style="font-size: ${fontSize}px;">${company.flag}</div>
                        <div class="bubble-name" style="font-size: ${nameSize}px;">${company.name}</div>
                        <div class="bubble-cap" style="font-size: ${capSize}px;">${company.cap} Mds‚Ç¨</div>
                    </div>
                `;
            }).join('');
            
            const content = document.getElementById('analysisContent');
            content.innerHTML = `
                <div class="analysis-block">
                    <div class="block-title">Qu'est-ce qu'ils vendent ?</div>
                    <div class="revenue-list">
                        <div class="revenue-item">
                            <div class="revenue-emoji">‚úàÔ∏è</div>
                            <div class="revenue-label">Avions commerciaux</div>
                            <div class="revenue-value">65%</div>
                        </div>
                        <div class="revenue-item">
                            <div class="revenue-emoji">üöÅ</div>
                            <div class="revenue-label">H√©licopt√®res</div>
                            <div class="revenue-value">20%</div>
                        </div>
                        <div class="revenue-item">
                            <div class="revenue-emoji">üõ∞Ô∏è</div>
                            <div class="revenue-label">D√©fense & Spatial</div>
                            <div class="revenue-value">15%</div>
                        </div>
                    </div>
                </div>

                <div class="analysis-block">
                    <div class="block-title">Le March√©</div>
                    <div class="market-bubbles">
                        ${bubblesHTML}
                    </div>
                </div>

                <div class="analysis-block">
                    <div class="block-title">L'Univers de Marque</div>
                    <div class="brands-grid">
                        <div class="brand-item">‚úàÔ∏è</div>
                        <div class="brand-item">üöÅ</div>
                        <div class="brand-item">üõ∞Ô∏è</div>
                        <div class="brand-item">üöÄ</div>
                    </div>
                </div>

                <div class="analysis-block">
                    <div class="block-title">L'Avis en Bourse</div>
                    <div class="advice-list">
                        <div class="advice-item">
                            <div class="advice-emoji">üí™</div>
                            <div class="advice-content">
                                <h4>Force</h4>
                                <p>Leader mondial avec 8 ans de carnet de commandes. Innovation constante sur l'efficacit√© √©nerg√©tique.</p>
                            </div>
                        </div>
                        <div class="advice-item">
                            <div class="advice-emoji">‚ö†Ô∏è</div>
                            <div class="advice-content">
                                <h4>Vigilance</h4>
                                <p>D√©pendance aux fournisseurs qui cr√©ent des retards co√ªteux. Sensibilit√© aux cycles du transport a√©rien.</p>
                            </div>
                        </div>
                        <div class="advice-item">
                            <div class="advice-emoji">üéØ</div>
                            <div class="advice-content">
                                <h4>L'essentiel</h4>
                                <p>Fond√© en 1970, Airbus r√©sulte de la fusion de constructeurs europ√©ens. L'A380 est l'avion le plus gros du monde.</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // ================================================
        // FILTRES & RECHERCHE
        // ================================================
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                renderCompanies(btn.dataset.filter, document.getElementById('searchInput').value);
            });
        });

        document.getElementById('searchInput').addEventListener('input', (e) => {
            const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
            renderCompanies(activeFilter, e.target.value);
        });

        // ================================================
        // INITIALISATION
        // ================================================
        renderCompanies();

        // Hash navigation
        window.addEventListener('hashchange', () => {
            const hash = window.location.hash.slice(1);
            if (hash && hash !== 'home') {
                navigateTo(hash);
            }
        });
    </script>
</body>
</html>
